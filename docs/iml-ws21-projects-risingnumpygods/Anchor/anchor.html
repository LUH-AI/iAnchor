<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>iml-ws21-projects-risingnumpygods.Anchor.anchor API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>iml-ws21-projects-risingnumpygods.Anchor.anchor</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from dataclasses import dataclass, field
from enum import Enum, auto
from typing import Callable, Optional, Protocol, Tuple, Union

import torch
from skimage.segmentation import quickshift


class Tasktype(Enum):
    &#34;&#34;&#34;
    Type of data that is going to be explained by the
    anchor.
    &#34;&#34;&#34;

    TABULAR = auto()
    IMAGE = auto()
    TEXT = auto()


class Sampler:
    &#34;&#34;&#34;
    Abstract Sampler that is used as a factory for its 
    subclasses. Use create(Tasktype) to initialise sub-
    classes for each task.
    &#34;&#34;&#34;

    subclasses = {}

    def __init_subclass__(cls, **kwargs):
        &#34;&#34;&#34;
        Registers every subclass in the subclass-dict.
        &#34;&#34;&#34;
        super().__init_subclass__(**kwargs)
        cls.subclasses[cls.type] = cls

    @classmethod
    def create(cls, type: Tasktype, input: any, predict_fn: Callable, **kwargs):
        &#34;&#34;&#34;
        Creates subclass depending on typ.

        Args:
            typ: Tasktype 
        Returns:
            Subclass that is used for the given Tasktype.
        &#34;&#34;&#34;
        if type not in cls.subclasses:
            raise ValueError(&#34;Bad message type {}&#34;.format(type))

        return cls.subclasses[type](
            input, predict_fn, **kwargs
        )  # every sampler needs input and predict function


class TabularSampler(Sampler):
    type: Tasktype = Tasktype.TABULAR

    def sample(
        self, input: any, predict_fn: Callable[[any], torch.Tensor]
    ) -&gt; torch.Tensor:
        ...


class ImageSampler(Sampler):
    type: Tasktype = Tasktype.IMAGE

    def __init__(self, input: any, predict_fn: Callable[[any], torch.Tensor], **kwargs):
        assert input.shape[2] == 3

        self.label = torch.argmax(predict_fn(input.permute(2, 0, 1).unsqueeze(0))[0])
        # run segmentation on the image
        self.segments = torch.from_numpy(
            quickshift(input.double(), kernel_size=4, max_dist=200, ratio=0.2)
        )  # parameters from original implementation
        segment_features = torch.unique(self.segments)
        self.n_features = len(segment_features)

        # create superpixel image by replacing superpixels by its mean in the original image
        self.sp_image = torch.clone(input)
        for spixel in segment_features:
            self.sp_image[self.segments == spixel, :] = torch.mean(
                self.sp_image[self.segments == spixel, :], axis=0
            )
        self.image = input
        self.predict_fn = predict_fn

    def sample(
        self, present: torch.Tensor, num_samples: int
    ) -&gt; Tuple[torch.Tensor, torch.Tensor, torch.Tensor]:
        &#34;&#34;&#34;
        Sample function for image data.
        Generates random image samples from the distribution around the original image.
        Features can be blocked from replacement with the present attribute.
        &#34;&#34;&#34;
        data = torch.randint(
            0, 2, (num_samples, self.n_features)
        )  # generate random feature mask for each sample
        data[:, present] = 1  # set present features to one
        samples = torch.stack([self.__generate_image(mask) for mask in data])
        preds = self.predict_fn(samples.permute(0, 3, 1, 2))
        preds_max = torch.argmax(preds, axis=1)
        labels = (preds_max == self.label).int()

        return self.segments, data, labels

    def __generate_image(self, feature_mask: torch.Tensor) -&gt; torch.Tensor:
        &#34;&#34;&#34;
        Generate sample image given some feature mask.
        The true image will get permutated dependent on the feature mask.
        Pixel which are outmasked by the mask are replaced by the correspodning superpixel pixel.
        &#34;&#34;&#34;
        img = self.image.clone()
        zeros = torch.where(feature_mask == 0)[0]
        mask = torch.zeros(self.segments.shape).bool()
        for z in zeros:
            mask[self.segments == z] = True
        img[mask] = self.sp_image[mask]

        return img


class TextSampler(Sampler):
    type: Tasktype = Tasktype.TEXT

    def sample(
        self, input: any, predict_fn: Callable[[any], torch.Tensor]
    ) -&gt; torch.Tensor:
        ...


@dataclass(frozen=True)
class Anchor:
    &#34;&#34;&#34;
    Approach to explain predictions of a blackbox model using anchors.
    It returns the explaination with a precision and coverage score.

    More details can be found in the following paper:
    https://homes.cs.washington.edu/~marcotcr/aaai18.pdf
    &#34;&#34;&#34;

    tasktype: Tasktype
    sampler: Sampler = field(init=False)
    verbose: bool = False

    def explain_instance(self, input: any, predict_fn: Callable[[any], torch.Tensor]):
        self.sampler = Sampler.create(self.tasktype, input, predict_fn)
        exp = self.__greedy_anchor(self.sampler.sample)

    def __greedy_anchor(
        sample_fn: Callable,
        delta: float = 0.05,
        epsilon: float = 0.1,
        batch_size: int = 16,
    ):
        ...

    def beam_anchor():
        ...</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor"><code class="flex name class">
<span>class <span class="ident">Anchor</span></span>
<span>(</span><span>tasktype: iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype, verbose: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>Approach to explain predictions of a blackbox model using anchors.
It returns the explaination with a precision and coverage score.</p>
<p>More details can be found in the following paper:
<a href="https://homes.cs.washington.edu/~marcotcr/aaai18.pdf">https://homes.cs.washington.edu/~marcotcr/aaai18.pdf</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass(frozen=True)
class Anchor:
    &#34;&#34;&#34;
    Approach to explain predictions of a blackbox model using anchors.
    It returns the explaination with a precision and coverage score.

    More details can be found in the following paper:
    https://homes.cs.washington.edu/~marcotcr/aaai18.pdf
    &#34;&#34;&#34;

    tasktype: Tasktype
    sampler: Sampler = field(init=False)
    verbose: bool = False

    def explain_instance(self, input: any, predict_fn: Callable[[any], torch.Tensor]):
        self.sampler = Sampler.create(self.tasktype, input, predict_fn)
        exp = self.__greedy_anchor(self.sampler.sample)

    def __greedy_anchor(
        sample_fn: Callable,
        delta: float = 0.05,
        epsilon: float = 0.1,
        batch_size: int = 16,
    ):
        ...

    def beam_anchor():
        ...</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.sampler"><code class="name">var <span class="ident">sampler</span> : iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.tasktype"><code class="name">var <span class="ident">tasktype</span> : iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.verbose"><code class="name">var <span class="ident">verbose</span> : bool</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.beam_anchor"><code class="name flex">
<span>def <span class="ident">beam_anchor</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def beam_anchor():
    ...</code></pre>
</details>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.explain_instance"><code class="name flex">
<span>def <span class="ident">explain_instance</span></span>(<span>self, input: <built-in function any>, predict_fn: Callable[[<built-in function any>], torch.Tensor])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def explain_instance(self, input: any, predict_fn: Callable[[any], torch.Tensor]):
    self.sampler = Sampler.create(self.tasktype, input, predict_fn)
    exp = self.__greedy_anchor(self.sampler.sample)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler"><code class="flex name class">
<span>class <span class="ident">ImageSampler</span></span>
<span>(</span><span>input: <built-in function any>, predict_fn: Callable[[<built-in function any>], torch.Tensor], **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Abstract Sampler that is used as a factory for its
subclasses. Use create(Tasktype) to initialise sub-
classes for each task.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ImageSampler(Sampler):
    type: Tasktype = Tasktype.IMAGE

    def __init__(self, input: any, predict_fn: Callable[[any], torch.Tensor], **kwargs):
        assert input.shape[2] == 3

        self.label = torch.argmax(predict_fn(input.permute(2, 0, 1).unsqueeze(0))[0])
        # run segmentation on the image
        self.segments = torch.from_numpy(
            quickshift(input.double(), kernel_size=4, max_dist=200, ratio=0.2)
        )  # parameters from original implementation
        segment_features = torch.unique(self.segments)
        self.n_features = len(segment_features)

        # create superpixel image by replacing superpixels by its mean in the original image
        self.sp_image = torch.clone(input)
        for spixel in segment_features:
            self.sp_image[self.segments == spixel, :] = torch.mean(
                self.sp_image[self.segments == spixel, :], axis=0
            )
        self.image = input
        self.predict_fn = predict_fn

    def sample(
        self, present: torch.Tensor, num_samples: int
    ) -&gt; Tuple[torch.Tensor, torch.Tensor, torch.Tensor]:
        &#34;&#34;&#34;
        Sample function for image data.
        Generates random image samples from the distribution around the original image.
        Features can be blocked from replacement with the present attribute.
        &#34;&#34;&#34;
        data = torch.randint(
            0, 2, (num_samples, self.n_features)
        )  # generate random feature mask for each sample
        data[:, present] = 1  # set present features to one
        samples = torch.stack([self.__generate_image(mask) for mask in data])
        preds = self.predict_fn(samples.permute(0, 3, 1, 2))
        preds_max = torch.argmax(preds, axis=1)
        labels = (preds_max == self.label).int()

        return self.segments, data, labels

    def __generate_image(self, feature_mask: torch.Tensor) -&gt; torch.Tensor:
        &#34;&#34;&#34;
        Generate sample image given some feature mask.
        The true image will get permutated dependent on the feature mask.
        Pixel which are outmasked by the mask are replaced by the correspodning superpixel pixel.
        &#34;&#34;&#34;
        img = self.image.clone()
        zeros = torch.where(feature_mask == 0)[0]
        mask = torch.zeros(self.segments.shape).bool()
        for z in zeros:
            mask[self.segments == z] = True
        img[mask] = self.sp_image[mask]

        return img</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler.type"><code class="name">var <span class="ident">type</span> : iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler.sample"><code class="name flex">
<span>def <span class="ident">sample</span></span>(<span>self, present: torch.Tensor, num_samples: int) ‑> Tuple[torch.Tensor, torch.Tensor, torch.Tensor]</span>
</code></dt>
<dd>
<div class="desc"><p>Sample function for image data.
Generates random image samples from the distribution around the original image.
Features can be blocked from replacement with the present attribute.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sample(
    self, present: torch.Tensor, num_samples: int
) -&gt; Tuple[torch.Tensor, torch.Tensor, torch.Tensor]:
    &#34;&#34;&#34;
    Sample function for image data.
    Generates random image samples from the distribution around the original image.
    Features can be blocked from replacement with the present attribute.
    &#34;&#34;&#34;
    data = torch.randint(
        0, 2, (num_samples, self.n_features)
    )  # generate random feature mask for each sample
    data[:, present] = 1  # set present features to one
    samples = torch.stack([self.__generate_image(mask) for mask in data])
    preds = self.predict_fn(samples.permute(0, 3, 1, 2))
    preds_max = torch.argmax(preds, axis=1)
    labels = (preds_max == self.label).int()

    return self.segments, data, labels</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></b></code>:
<ul class="hlist">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create">create</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler"><code class="flex name class">
<span>class <span class="ident">Sampler</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract Sampler that is used as a factory for its
subclasses. Use create(Tasktype) to initialise sub-
classes for each task.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Sampler:
    &#34;&#34;&#34;
    Abstract Sampler that is used as a factory for its 
    subclasses. Use create(Tasktype) to initialise sub-
    classes for each task.
    &#34;&#34;&#34;

    subclasses = {}

    def __init_subclass__(cls, **kwargs):
        &#34;&#34;&#34;
        Registers every subclass in the subclass-dict.
        &#34;&#34;&#34;
        super().__init_subclass__(**kwargs)
        cls.subclasses[cls.type] = cls

    @classmethod
    def create(cls, type: Tasktype, input: any, predict_fn: Callable, **kwargs):
        &#34;&#34;&#34;
        Creates subclass depending on typ.

        Args:
            typ: Tasktype 
        Returns:
            Subclass that is used for the given Tasktype.
        &#34;&#34;&#34;
        if type not in cls.subclasses:
            raise ValueError(&#34;Bad message type {}&#34;.format(type))

        return cls.subclasses[type](
            input, predict_fn, **kwargs
        )  # every sampler needs input and predict function</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler">ImageSampler</a></li>
<li><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler">TabularSampler</a></li>
<li><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler">TextSampler</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.subclasses"><code class="name">var <span class="ident">subclasses</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create"><code class="name flex">
<span>def <span class="ident">create</span></span>(<span>type: iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype, input: <built-in function any>, predict_fn: Callable, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates subclass depending on typ.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>typ</code></strong></dt>
<dd>Tasktype </dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Subclass that is used for the given Tasktype.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def create(cls, type: Tasktype, input: any, predict_fn: Callable, **kwargs):
    &#34;&#34;&#34;
    Creates subclass depending on typ.

    Args:
        typ: Tasktype 
    Returns:
        Subclass that is used for the given Tasktype.
    &#34;&#34;&#34;
    if type not in cls.subclasses:
        raise ValueError(&#34;Bad message type {}&#34;.format(type))

    return cls.subclasses[type](
        input, predict_fn, **kwargs
    )  # every sampler needs input and predict function</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler"><code class="flex name class">
<span>class <span class="ident">TabularSampler</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract Sampler that is used as a factory for its
subclasses. Use create(Tasktype) to initialise sub-
classes for each task.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TabularSampler(Sampler):
    type: Tasktype = Tasktype.TABULAR

    def sample(
        self, input: any, predict_fn: Callable[[any], torch.Tensor]
    ) -&gt; torch.Tensor:
        ...</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler.type"><code class="name">var <span class="ident">type</span> : iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler.sample"><code class="name flex">
<span>def <span class="ident">sample</span></span>(<span>self, input: <built-in function any>, predict_fn: Callable[[<built-in function any>], torch.Tensor]) ‑> torch.Tensor</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sample(
    self, input: any, predict_fn: Callable[[any], torch.Tensor]
) -&gt; torch.Tensor:
    ...</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></b></code>:
<ul class="hlist">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create">create</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype"><code class="flex name class">
<span>class <span class="ident">Tasktype</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><p>Type of data that is going to be explained by the
anchor.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Tasktype(Enum):
    &#34;&#34;&#34;
    Type of data that is going to be explained by the
    anchor.
    &#34;&#34;&#34;

    TABULAR = auto()
    IMAGE = auto()
    TEXT = auto()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.IMAGE"><code class="name">var <span class="ident">IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.TABULAR"><code class="name">var <span class="ident">TABULAR</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.TEXT"><code class="name">var <span class="ident">TEXT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler"><code class="flex name class">
<span>class <span class="ident">TextSampler</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract Sampler that is used as a factory for its
subclasses. Use create(Tasktype) to initialise sub-
classes for each task.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TextSampler(Sampler):
    type: Tasktype = Tasktype.TEXT

    def sample(
        self, input: any, predict_fn: Callable[[any], torch.Tensor]
    ) -&gt; torch.Tensor:
        ...</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler.type"><code class="name">var <span class="ident">type</span> : iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler.sample"><code class="name flex">
<span>def <span class="ident">sample</span></span>(<span>self, input: <built-in function any>, predict_fn: Callable[[<built-in function any>], torch.Tensor]) ‑> torch.Tensor</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sample(
    self, input: any, predict_fn: Callable[[any], torch.Tensor]
) -&gt; torch.Tensor:
    ...</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></b></code>:
<ul class="hlist">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create">create</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor" href="index.html">iml-ws21-projects-risingnumpygods.Anchor</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor">Anchor</a></code></h4>
<ul class="">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.beam_anchor" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.beam_anchor">beam_anchor</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.explain_instance" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.explain_instance">explain_instance</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.sampler">sampler</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.tasktype" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.tasktype">tasktype</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.verbose" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Anchor.verbose">verbose</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler">ImageSampler</a></code></h4>
<ul class="">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler.sample" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler.sample">sample</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler.type" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.ImageSampler.type">type</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler">Sampler</a></code></h4>
<ul class="">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.create">create</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.subclasses" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Sampler.subclasses">subclasses</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler">TabularSampler</a></code></h4>
<ul class="">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler.sample" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler.sample">sample</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler.type" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TabularSampler.type">type</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype">Tasktype</a></code></h4>
<ul class="">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.IMAGE" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.IMAGE">IMAGE</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.TABULAR" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.TABULAR">TABULAR</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.TEXT" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.Tasktype.TEXT">TEXT</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler">TextSampler</a></code></h4>
<ul class="">
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler.sample" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler.sample">sample</a></code></li>
<li><code><a title="iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler.type" href="#iml-ws21-projects-risingnumpygods.Anchor.anchor.TextSampler.type">type</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>